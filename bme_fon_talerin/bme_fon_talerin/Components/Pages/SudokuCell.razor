<div class="@Classes" id='@($"cell{Row}{Column}")' tabindex='@($"{Row}{Column}")'>
    <span class="cellvalue" style="background-color: @(Value == null ? "transparent" : "inherit")">
        @(Value == null ? "" : Value)
    </span>
    <span class="cellpencil">
    </span>
    <span class="cellhighlight" onfocus="select(this)" onfocusout="deselect(this)">
    </span>
</div>

@code {
    [Parameter]
    public int Row { get; set; }
    [Parameter]
    public int Column { get; set; }
    [Parameter]
    public int? Value { get; set; }
    [Parameter]
    public string GridType { get; set; }

    private string Classes { get; set; } = "";

    private string TempClasses { get; set; } = "";

    private bool Changeable { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Changeable = Value == null;

        SetupClasses();
    }

    private void SetupClasses()
    {
        Classes = "cell";
        Classes += Value == null ? "" : " value";
        if (GridType == "Box")
        {
            Classes += Row % 3 == 0 ? " bordertop" : "";
            Classes += Row % 3 == 2 ? " borderbottom" : "";
            Classes += Column % 3 == 0 ? " borderleft" : "";
            Classes += Column % 3 == 2 ? " borderright" : "";
        }
    }
}